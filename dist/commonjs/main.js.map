{"version":3,"file":"main.js","sources":["../../node_modules/@jsenv/core/helpers/babel/typeof/typeof.js","../../src/internal/assertImportMap.js","../../src/internal/hasScheme.js","../../src/internal/urlToScheme.js","../../src/internal/urlToPathname.js","../../src/internal/urlToOrigin.js","../../src/internal/pathnameToDirectoryPathname.js","../../src/resolveUrl.js","../../src/internal/tryUrlResolution.js","../../src/resolveSpecifier.js","../../src/applyImportMap.js","../../node_modules/@jsenv/core/helpers/babel/defineProperty/defineProperty.js","../../node_modules/@jsenv/core/helpers/babel/objectSpread2/objectSpread2.js","../../src/composeTwoImportMaps.js","../../src/sortImportMap.js","../../src/normalizeImportMap.js","../../src/internal/pathnameToExtension.js","../../src/resolveImport.js","../../src/wrapImportMap.js"],"sourcesContent":null,"names":["nativeTypeOf","obj","customTypeOf","Symbol","constructor","prototype","iterator","assertImportMap","value","TypeError","type","Array","isArray","hasScheme","string","test","urlToScheme","urlString","colonIndex","indexOf","slice","urlToPathname","ressourceToPathname","urlToRessource","scheme","length","afterProtocol","pathnameSlashIndex","ressource","searchSeparatorIndex","urlToOrigin","secondProtocolSlashIndex","pathnameToDirectoryPathname","pathname","slashLastIndex","lastIndexOf","resolveUrl","specifier","baseUrl","writeBaseUrlMustBeAString","Error","writeBaseUrlMustBeAbsolute","writeBaseUrlRequired","baseOrigin","basePathname","baseDirectoryPathname","unresolvedPathname","importerFolders","split","pop","resolvedPathname","join","tryUrlResolution","url","result","resolveSpecifier","importer","startsWith","applyImportMap","importMap","writeSpecifierMustBeAString","writeImporterMustBeAString","writeImporterMustBeAbsolute","specifierUrl","specifierNormalized","scopes","scopeKeyMatching","Object","keys","find","scopeKey","specifierIsPrefixOf","scopeValue","remappingFromScopeImports","applyImports","imports","remappingFromImports","writeBareSpecifierMustBeRemapped","importKeyArray","i","importKey","importValue","afterImportKey","specifierHref","href","key","defineProperty","enumerable","configurable","writable","target","arguments","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","getOwnPropertyDescriptor","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","composeTwoImportMaps","leftImportMap","rightImportMap","composeTwoImports","composeTwoScopes","leftImports","rightImports","leftScopes","rightScopes","hasOwnProperty","sortImportMap","sortImports","undefined","sortScopes","importsSorted","sort","compareLengthOrLocaleCompare","name","scopesSorted","scopeName","a","b","localeCompare","normalizeImportMap","formulateBaseUrlMustBeAString","normalizeImports","normalizeScopes","importsNormalized","address","console","warn","formulateAddressMustBeAString","specifierResolved","addressUrl","formulateAdressResolutionFailed","endsWith","formulateAddressUrlRequiresTrailingSlash","scopesNormalized","scope","scopeUrl","formulateScopeResolutionFailed","scopeValueNormalized","addressURL","pathnameToExtension","dotLastIndex","resolveImport","defaultExtension","applyDefaultExtension","extension","importerPathname","importerExtension","wrapImportMap","folderRelativeName","ensureInto","formulateFolderRelativeNameMustBeAString","into","importsForWrapping","wrapTopLevelImports","scopesForWrapping","wrapScopes","scopesWrapped","scopeKeyWrapped","wrapAddress","wrapImports","importsWrapped","importsRemaining","scopeValueWrapped","scopeHasLeadingSlashScopedRemapping","leadingSlashSpecifier","importKeyWrapped","scopeImports","wrapSpecifier","importValueWrapped","keyChanged","valueChanged"],"mappings":"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"}